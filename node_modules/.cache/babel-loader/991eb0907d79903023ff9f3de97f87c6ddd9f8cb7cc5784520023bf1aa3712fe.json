{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kln\\\\Desktop\\\\Universitate\\\\Anul 3\\\\Sem1\\\\Frontend avansat\\\\Frontend-Avansat-React-App\\\\src\\\\Therapists\\\\Therapists.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Navbar from \"../Navbar/Navbar\";\nimport { db } from \"../firebase-config\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from \"../firebase-config\";\nimport TherpistComponent from \"./TherapistComponent\";\nimport \"./Therapists.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\nexport const Therapists = () => {\n  _s();\n  const [therapists, setTherapists] = useState([]);\n  const therapistsCollectionRef = collection(db, \"therapists\");\n  const [jwtToken, setJwtToken] = useState([]);\n  const history = useNavigate();\n  useEffect(() => {\n    const getTherapists = async () => {\n      const data = await getDocs(therapistsCollectionRef);\n      setTherapists(data.docs.map(doc => ({\n        ...doc.data(),\n        id: doc.id\n      })));\n    };\n    getTherapists();\n    const auxjwtToken = auth.onAuthStateChanged(function (user) {\n      if (user) {\n        user.getIdToken().then(function (idToken) {\n          if (idToken !== \"\") {\n            setJwtToken(idToken);\n          } else {\n            history(\"/Authentication/Login\");\n          }\n          return idToken;\n        });\n      }\n    });\n  }, []);\n  if (jwtToken && (jwtToken === null || jwtToken === void 0 ? void 0 : jwtToken.length) !== 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"therapists-div\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"therapists-title\",\n        children: \"Therapists\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-intro\",\n        children: \"Welcome to our directory of highly qualified therapists! Our team of professionals offers a wide range of specialties and approaches to help you achieve your mental health and wellness goals. From relationship counseling to trauma recovery, our therapists have the expertise and experience to support you. Browse through our list of therapists to learn more about their backgrounds, specialties, and approaches. Whether you're looking for individual therapy, couples therapy, or family therapy, you'll find a therapist who can help. With a focus on compassion, empathy, and evidence-based practices, our therapists are here to provide the care and support you need to lead a happier, healthier life.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: therapists.map((therap, i) => /*#__PURE__*/_createElement(TherpistComponent, {\n          ...therap,\n          key: i,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 48\n          }\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this);\n  } else {\n    history(\"/Authentication/Login\");\n  }\n};\n_s(Therapists, \"hByDAD+6gwTCabXut/WAxCRBhPY=\", false, function () {\n  return [useNavigate];\n});\n_c = Therapists;\nvar _c;\n$RefreshReg$(_c, \"Therapists\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Navbar","db","collection","getDocs","onAuthStateChanged","auth","TherpistComponent","Therapists","therapists","setTherapists","therapistsCollectionRef","jwtToken","setJwtToken","history","getTherapists","data","docs","map","doc","id","auxjwtToken","user","getIdToken","then","idToken","length","therap","i"],"sources":["C:/Users/kln/Desktop/Universitate/Anul 3/Sem1/Frontend avansat/Frontend-Avansat-React-App/src/Therapists/Therapists.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport {db} from \"../firebase-config\";\r\nimport {collection, getDocs} from \"firebase/firestore\";\r\nimport { onAuthStateChanged } from 'firebase/auth';\r\nimport { auth } from \"../firebase-config\";\r\nimport TherpistComponent from \"./TherapistComponent\";\r\nimport \"./Therapists.css\";\r\n\r\nexport const Therapists = () => {\r\n    const [therapists, setTherapists] = useState([]);\r\n    const therapistsCollectionRef = collection(db, \"therapists\");\r\n    const [jwtToken, setJwtToken] = useState([]);\r\n    const history = useNavigate();\r\n\r\n    useEffect(() => {\r\n    \r\n        const getTherapists = async () => {\r\n        const data = await getDocs(therapistsCollectionRef);\r\n        setTherapists(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n    };\r\n\r\n    getTherapists();\r\n\r\n    const auxjwtToken = auth.onAuthStateChanged(function(user) {\r\n        if (user) {\r\n          user.getIdToken().then(function(idToken) {  \r\n              if(idToken !== \"\") {\r\n                setJwtToken(idToken);\r\n              } else {\r\n                history(\"/Authentication/Login\");\r\n              }\r\n              return idToken;\r\n          });\r\n        }\r\n      });\r\n    }, [])\r\n    \r\n\r\n    if ( jwtToken && jwtToken?.length !== 0) {\r\n    return (\r\n        <div className=\"therapists-div\">\r\n            <Navbar></Navbar>\r\n            <h1 className=\"therapists-title\">Therapists</h1>\r\n            <p className=\"page-intro\">Welcome to our directory of highly qualified therapists! Our team of professionals offers a wide range of specialties and approaches to help you achieve your mental health and wellness goals. From relationship counseling to trauma recovery, our therapists have the expertise and experience to support you. Browse through our list of therapists to learn more about their backgrounds, specialties, and approaches. Whether you're looking for individual therapy, couples therapy, or family therapy, you'll find a therapist who can help. With a focus on compassion, empathy, and evidence-based practices, our therapists are here to provide the care and support you need to lead a happier, healthier life.</p>\r\n\r\n            <div className=\"\">\r\n                {therapists.map((therap, i) => <TherpistComponent {...therap} key={i}/>)}\r\n            </div>\r\n        </div>\r\n    )\r\n    } else {\r\n        history(\"/Authentication/Login\");\r\n    }\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,MAAM,MAAM,kBAAkB;AACrC,SAAQC,EAAE,QAAO,oBAAoB;AACrC,SAAQC,UAAU,EAAEC,OAAO,QAAO,oBAAoB;AACtD,SAASC,kBAAkB,QAAQ,eAAe;AAClD,SAASC,IAAI,QAAQ,oBAAoB;AACzC,OAAOC,iBAAiB,MAAM,sBAAsB;AACpD,OAAO,kBAAkB;AAAC;AAAA;AAE1B,OAAO,MAAMC,UAAU,GAAG,MAAM;EAAA;EAC5B,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAMa,uBAAuB,GAAGR,UAAU,CAACD,EAAE,EAAE,YAAY,CAAC;EAC5D,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMgB,OAAO,GAAGd,WAAW,EAAE;EAE7BD,SAAS,CAAC,MAAM;IAEZ,MAAMgB,aAAa,GAAG,YAAY;MAClC,MAAMC,IAAI,GAAG,MAAMZ,OAAO,CAACO,uBAAuB,CAAC;MACnDD,aAAa,CAACM,IAAI,CAACC,IAAI,CAACC,GAAG,CAAEC,GAAG,KAAM;QAAE,GAAGA,GAAG,CAACH,IAAI,EAAE;QAAEI,EAAE,EAAED,GAAG,CAACC;MAAG,CAAC,CAAC,CAAC,CAAC;IAC1E,CAAC;IAEDL,aAAa,EAAE;IAEf,MAAMM,WAAW,GAAGf,IAAI,CAACD,kBAAkB,CAAC,UAASiB,IAAI,EAAE;MACvD,IAAIA,IAAI,EAAE;QACRA,IAAI,CAACC,UAAU,EAAE,CAACC,IAAI,CAAC,UAASC,OAAO,EAAE;UACrC,IAAGA,OAAO,KAAK,EAAE,EAAE;YACjBZ,WAAW,CAACY,OAAO,CAAC;UACtB,CAAC,MAAM;YACLX,OAAO,CAAC,uBAAuB,CAAC;UAClC;UACA,OAAOW,OAAO;QAClB,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAGN,IAAKb,QAAQ,IAAI,CAAAA,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEc,MAAM,MAAK,CAAC,EAAE;IACzC,oBACI;MAAK,SAAS,EAAC,gBAAgB;MAAA,wBAC3B,QAAC,MAAM;QAAA;QAAA;QAAA;MAAA,QAAU,eACjB;QAAI,SAAS,EAAC,kBAAkB;QAAA,UAAC;MAAU;QAAA;QAAA;QAAA;MAAA,QAAK,eAChD;QAAG,SAAS,EAAC,YAAY;QAAA,UAAC;MAA2rB;QAAA;QAAA;QAAA;MAAA,QAAI,eAEztB;QAAK,SAAS,EAAC,EAAE;QAAA,UACZjB,UAAU,CAACS,GAAG,CAAC,CAACS,MAAM,EAAEC,CAAC,kBAAK,eAAC,iBAAiB;UAAA,GAAKD,MAAM;UAAE,GAAG,EAAEC,CAAE;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EAAE;MAAC;QAAA;QAAA;QAAA;MAAA,QACtE;IAAA;MAAA;MAAA;MAAA;IAAA,QACJ;EAEV,CAAC,MAAM;IACHd,OAAO,CAAC,uBAAuB,CAAC;EACpC;AACJ,CAAC;AAAA,GA7CYN,UAAU;EAAA,QAIHR,WAAW;AAAA;AAAA,KAJlBQ,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}